(()=>{var e={d:(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};(()=>{"use strict";function t(e,n,t){if("string"==typeof e)throw new Error(`An HTML element ("${String(e)}") was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.`);if(!e)throw new Error("A JSX fragment was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.");return e({...n,key:t})}function o(e,n,o){return t(e,n,o)}e.r(n),e.d(n,{onHomePage:()=>re,onInstall:()=>ee,onRpcRequest:()=>ae,onTransaction:()=>te,onUpdate:()=>ne,onUserInput:()=>oe});class r extends TypeError{constructor(e,n){let t;const{message:o,explanation:r,...a}=e,{path:c}=e,s=0===c.length?o:`At path: ${c.join(".")} -- ${o}`;super(r??s),null!=r&&(this.cause=s),Object.assign(this,a),this.name=this.constructor.name,this.failures=()=>t??(t=[e,...n()])}}function a(e){return"object"==typeof e&&null!==e}function c(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function s(e,n,t,o){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:r,branch:a}=n,{type:s}=t,{refinement:i,message:l=`Expected a value of type \`${s}\`${i?` with refinement \`${i}\``:""}, but received: \`${c(o)}\``}=e;return{value:o,type:s,refinement:i,key:r[r.length-1],path:r,branch:a,...e,message:l}}function*i(e,n,t,o){(function(e){return a(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const r of e){const e=s(r,n,t,o);e&&(yield e)}}function*l(e,n,t={}){const{path:o=[],branch:r=[e],coerce:c=!1,mask:s=!1}=t,i={path:o,branch:r};if(c&&(e=n.coercer(e,i),s&&"type"!==n.type&&a(n.schema)&&a(e)&&!Array.isArray(e)))for(const t in e)void 0===n.schema[t]&&delete e[t];let u="valid";for(const o of n.validator(e,i))o.explanation=t.message,u="not_valid",yield[o,void 0];for(let[d,p,f]of n.entries(e,i)){const n=l(p,f,{path:void 0===d?o:[...o,d],branch:void 0===d?r:[...r,p],coerce:c,mask:s,message:t.message});for(const t of n)t[0]?(u=null===t[0].refinement||void 0===t[0].refinement?"not_valid":"not_refined",yield[t[0],void 0]):c&&(p=t[1],void 0===d?e=p:e instanceof Map?e.set(d,p):e instanceof Set?e.add(p):a(e)&&(void 0!==p||d in e)&&(e[d]=p))}if("not_valid"!==u)for(const o of n.refiner(e,i))o.explanation=t.message,u="not_refined",yield[o,void 0];"valid"===u&&(yield[void 0,e])}class u{constructor(e){const{type:n,schema:t,validator:o,refiner:r,coercer:a=e=>e,entries:c=function*(){}}=e;this.type=n,this.schema=t,this.entries=c,this.coercer=a,this.validator=o?(e,n)=>i(o(e,n),n,this,e):()=>[],this.refiner=r?(e,n)=>i(r(e,n),n,this,e):()=>[]}assert(e,n){return function(e,n,t){const o=d(e,n,{message:t});if(o[0])throw o[0]}(e,this,n)}create(e,n){return function(e,n,t){const o=d(e,n,{coerce:!0,message:t});if(o[0])throw o[0];return o[1]}(e,this,n)}is(e){return function(e,n){const t=d(e,n);return!t[0]}(e,this)}mask(e,n){return function(e,n,t){const o=d(e,n,{coerce:!0,mask:!0,message:t});if(o[0])throw o[0];return o[1]}(e,this,n)}validate(e,n={}){return d(e,this,n)}}function d(e,n,t={}){const o=l(e,n,t),a=function(e){const{done:n,value:t}=e.next();return n?void 0:t}(o);if(a[0]){return[new r(a[0],(function*(){for(const e of o)e[0]&&(yield e[0])})),void 0]}return[void 0,a[1]]}function p(...e){const n="type"===e[0]?.type,t=e.map((({schema:e})=>e)),o=Object.assign({},...t);return n?function(e){const n=Object.keys(e);return new u({type:"type",schema:e,*entries(t){if(a(t))for(const o of n)yield[o,t[o],e[o]]},validator:e=>a(e)||`Expected an object, but received: ${c(e)}`,coercer:e=>a(e)?{...e}:e})}(o):v(o)}function f(e,n){return new u({type:e,schema:null,validator:n})}function h(){return f("boolean",(e=>"boolean"==typeof e))}function m(e){const n=c(e),t=typeof e;return new u({type:"literal",schema:"string"===t||"number"===t||"boolean"===t?e:null,validator:t=>t===e||`Expected the literal \`${n}\`, but received: ${c(t)}`})}function y(){return f("never",(()=>!1))}function g(e){return new u({...e,validator:(n,t)=>null===n||e.validator(n,t),refiner:(n,t)=>null===n||e.refiner(n,t)})}function v(e){const n=e?Object.keys(e):[],t=y();return new u({type:"object",schema:e??null,*entries(o){if(e&&a(o)){const r=new Set(Object.keys(o));for(const t of n)r.delete(t),yield[t,o[t],e[t]];for(const e of r)yield[e,o[e],t]}},validator:e=>a(e)||`Expected an object, but received: ${c(e)}`,coercer:e=>a(e)?{...e}:e})}function b(e){return new u({...e,validator:(n,t)=>void 0===n||e.validator(n,t),refiner:(n,t)=>void 0===n||e.refiner(n,t)})}function w(){return f("string",(e=>"string"==typeof e||`Expected a string, but received: ${c(e)}`))}function A(e){const n=e.map((e=>e.type)).join(" | ");return new u({type:"union",schema:null,coercer(n){for(const t of e){const[e,o]=t.validate(n,{coerce:!0});if(!e)return o}return n},validator(t,o){const r=[];for(const n of e){const[...e]=l(t,n,o),[a]=e;if(!a?.[0])return[];for(const[n]of e)n&&r.push(n)}return[`Expected the value to satisfy a union of \`${n}\`, but received: ${c(t)}`,...r]}})}function $(e,n){return f(e,(e=>"string"==typeof e&&n.test(e)))}const E=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,C=/^[-a-z0-9]{3,8}$/u,S=/^[-_a-zA-Z0-9]{1,32}$/u,z=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,I=/^[-.%a-zA-Z0-9]{1,128}$/u,k=/^[-a-z0-9]{3,8}$/u,_=/^[-.%a-zA-Z0-9]{1,128}$/u,x=/^[-.%a-zA-Z0-9]{1,78}$/u,j=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,O=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u,Z=($("CaipChainId",E),$("CaipNamespace",C),$("CaipReference",S),$("CaipAccountId",z),$("CaipAccountAddress",I),$("CaipAssetNamespace",k),$("CaipAssetReference",_),$("CaipTokenId",x),$("CaipAssetType",j));$("CaipAssetId",O),$("CaipAssetTypeOrId",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u);var q,T;!function(e){e.Bip122="bip122",e.Solana="solana",e.Eip155="eip155",e.Wallet="wallet"}(q=q||(q={})),function(e){e.ButtonClickEvent="ButtonClickEvent",e.FormSubmitEvent="FormSubmitEvent",e.InputChangeEvent="InputChangeEvent",e.FileUploadEvent="FileUploadEvent"}(T||(T={}));const R=v({type:w(),name:b(w())}),N=p(R,v({type:m(T.ButtonClickEvent),name:b(w())})),P=v({name:w(),size:f("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${c(e)}`)),contentType:w(),contents:w()}),U=v({asset:Z,name:w(),symbol:w()}),B=p(R,v({type:m(T.FormSubmitEvent),value:(F=w(),D=g(A([w(),P,h(),U])),new u({type:"record",schema:null,*entries(e){if(a(e))for(const n in e){const t=e[n];yield[n,n,F],yield[n,t,D]}},validator:e=>a(e)||`Expected an object, but received: ${c(e)}`})),name:w()}));var F,D;const H=p(R,v({type:m(T.InputChangeEvent),name:w(),value:A([w(),h(),U])}));A([N,B,H,p(R,v({type:m(T.FileUploadEvent),name:w(),file:g(P)}))]);function M(e){return Object.fromEntries(Object.entries(e).filter((([,e])=>void 0!==e)))}function W(e){return n=>{const{key:t=null,...o}=n;return{type:e,props:M(o),key:t}}}const J=W("Box"),L=W("Heading"),X=W("Divider"),K=W("Text"),G=W("Button"),Q=({error:e})=>o(J,{children:[t(L,{children:"Account Connection Error"}),t(X,{}),t(K,{children:"There was an error connecting to your accounts:"}),t(K,{children:e}),t(X,{}),t(K,{children:"Try connecting again:"}),t(G,{name:"connect-wallet",children:"Connect Wallet"})]}),V=({accounts:e=[]})=>{const n=e&&e.length>0;return o(J,{children:[t(L,{children:"Connected Accounts"}),t(X,{}),o(J,n?{children:[t(K,{children:"The following accounts are connected:"}),e.map(((e,n)=>o(J,{children:[o(K,{children:["â€¢ Account ",`${n+1}`,": ",e]}),t(G,{name:"show-details",children:"Show Details"})]},`account-${n}`))),t(X,{})]}:{children:[t(K,{children:"No accounts are currently connected."}),t(K,{children:"Connect your wallet to use this feature:"}),t(G,{name:"connect-wallet",children:"Connect Wallet"})]})]})},Y=()=>o(J,{children:[t(L,{children:"Risk Assessment Result"}),t(X,{}),t(J,{children:o(K,{children:["Risk:"," ",t("span",{role:"img","aria-label":"red dot",children:"ðŸ”´"})," ","High"]})}),t(X,{}),t(J,{children:o(K,{children:["Label:"," ",t("span",{role:"img","aria-label":"deposit",children:"ðŸ’±"})," ","Deposit: OKX"," ",t("span",{role:"img","aria-label":"scam",children:"ðŸ”´"})," ","Scam"]})})]}),ee=async()=>{console.log("Installing the Snap..."),await ethereum.request({method:"eth_requestAccounts"}),console.log("Snap installed successfully")},ne=async()=>{console.log("Updating the Snap..."),await ethereum.request({method:"eth_requestAccounts"}),console.log("Snap updated successfully")},te=async({transaction:e,chainId:n})=>(console.log("transaction:",e),console.log("chainId",n),(async()=>({content:t(Y,{})}))()),oe=async({id:e,event:n,context:o})=>{if(console.log(`User input ID: ${e}`),console.log("Event:",n),console.log("Context:",o),n.type===T.ButtonClickEvent)if("connect-wallet"===n.name)try{console.log("Connecting wallet..."),await ethereum.request({method:"eth_requestAccounts"}),console.log("Wallet connected successfully")}catch(e){console.error("Error connecting wallet:",e)}else"show-details"===n.name&&(await snap.request({method:"snap_updateInterface",params:{id:e,ui:t(V,{accounts:["0x1234..."]})}}),console.log("Transaction type button clicked"))},re=async()=>{try{console.log("Initializing home page...");const e=await ethereum.request({method:"eth_accounts"});console.log("Found accounts:",e);const n=await snap.request({method:"snap_createInterface",params:{ui:t(V,{accounts:e})}});return console.log("Created interface:",n),{id:n}}catch(e){return console.error("Error getting accounts:",e),{content:t(Q,{error:e.message})}}},ae=async({origin:e,request:n})=>(console.log("Origin:",e),console.log("RPC request:",n),await snap.request({method:"snap_notify",params:{type:"native",message:"Received RPC request"}}),{result:null})})(),module.exports=n})();