(()=>{var e={d:(n,t)=>{for(var o in t)e.o(t,o)&&!e.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n),r:e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}},n={};(()=>{"use strict";function t(e,n,t){if("string"==typeof e)throw new Error(`An HTML element ("${String(e)}") was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.`);if(!e)throw new Error("A JSX fragment was used in a Snap component, which is not supported by Snaps UI. Please use one of the supported Snap components.");return e({...n,key:t})}function o(e,n,o){return t(e,n,o)}e.r(n),e.d(n,{onHomePage:()=>ae,onInstall:()=>te,onRpcRequest:()=>se,onTransaction:()=>re,onUpdate:()=>oe,onUserInput:()=>ce});class r extends TypeError{constructor(e,n){let t;const{message:o,explanation:r,...c}=e,{path:a}=e,s=0===a.length?o:`At path: ${a.join(".")} -- ${o}`;super(r??s),null!=r&&(this.cause=s),Object.assign(this,c),this.name=this.constructor.name,this.failures=()=>t??(t=[e,...n()])}}function c(e){return"object"==typeof e&&null!==e}function a(e){return"symbol"==typeof e?e.toString():"string"==typeof e?JSON.stringify(e):`${e}`}function s(e,n,t,o){if(!0===e)return;!1===e?e={}:"string"==typeof e&&(e={message:e});const{path:r,branch:c}=n,{type:s}=t,{refinement:i,message:l=`Expected a value of type \`${s}\`${i?` with refinement \`${i}\``:""}, but received: \`${a(o)}\``}=e;return{value:o,type:s,refinement:i,key:r[r.length-1],path:r,branch:c,...e,message:l}}function*i(e,n,t,o){(function(e){return c(e)&&"function"==typeof e[Symbol.iterator]})(e)||(e=[e]);for(const r of e){const e=s(r,n,t,o);e&&(yield e)}}function*l(e,n,t={}){const{path:o=[],branch:r=[e],coerce:a=!1,mask:s=!1}=t,i={path:o,branch:r};if(a&&(e=n.coercer(e,i),s&&"type"!==n.type&&c(n.schema)&&c(e)&&!Array.isArray(e)))for(const t in e)void 0===n.schema[t]&&delete e[t];let u="valid";for(const o of n.validator(e,i))o.explanation=t.message,u="not_valid",yield[o,void 0];for(let[d,p,f]of n.entries(e,i)){const n=l(p,f,{path:void 0===d?o:[...o,d],branch:void 0===d?r:[...r,p],coerce:a,mask:s,message:t.message});for(const t of n)t[0]?(u=null===t[0].refinement||void 0===t[0].refinement?"not_valid":"not_refined",yield[t[0],void 0]):a&&(p=t[1],void 0===d?e=p:e instanceof Map?e.set(d,p):e instanceof Set?e.add(p):c(e)&&(void 0!==p||d in e)&&(e[d]=p))}if("not_valid"!==u)for(const o of n.refiner(e,i))o.explanation=t.message,u="not_refined",yield[o,void 0];"valid"===u&&(yield[void 0,e])}class u{constructor(e){const{type:n,schema:t,validator:o,refiner:r,coercer:c=e=>e,entries:a=function*(){}}=e;this.type=n,this.schema=t,this.entries=a,this.coercer=c,this.validator=o?(e,n)=>i(o(e,n),n,this,e):()=>[],this.refiner=r?(e,n)=>i(r(e,n),n,this,e):()=>[]}assert(e,n){return function(e,n,t){const o=d(e,n,{message:t});if(o[0])throw o[0]}(e,this,n)}create(e,n){return function(e,n,t){const o=d(e,n,{coerce:!0,message:t});if(o[0])throw o[0];return o[1]}(e,this,n)}is(e){return function(e,n){const t=d(e,n);return!t[0]}(e,this)}mask(e,n){return function(e,n,t){const o=d(e,n,{coerce:!0,mask:!0,message:t});if(o[0])throw o[0];return o[1]}(e,this,n)}validate(e,n={}){return d(e,this,n)}}function d(e,n,t={}){const o=l(e,n,t),c=function(e){const{done:n,value:t}=e.next();return n?void 0:t}(o);if(c[0]){return[new r(c[0],(function*(){for(const e of o)e[0]&&(yield e[0])})),void 0]}return[void 0,c[1]]}function p(...e){const n="type"===e[0]?.type,t=e.map((({schema:e})=>e)),o=Object.assign({},...t);return n?function(e){const n=Object.keys(e);return new u({type:"type",schema:e,*entries(t){if(c(t))for(const o of n)yield[o,t[o],e[o]]},validator:e=>c(e)||`Expected an object, but received: ${a(e)}`,coercer:e=>c(e)?{...e}:e})}(o):g(o)}function f(e,n){return new u({type:e,schema:null,validator:n})}function h(){return f("boolean",(e=>"boolean"==typeof e))}function m(e){const n=a(e),t=typeof e;return new u({type:"literal",schema:"string"===t||"number"===t||"boolean"===t?e:null,validator:t=>t===e||`Expected the literal \`${n}\`, but received: ${a(t)}`})}function y(){return f("never",(()=>!1))}function v(e){return new u({...e,validator:(n,t)=>null===n||e.validator(n,t),refiner:(n,t)=>null===n||e.refiner(n,t)})}function g(e){const n=e?Object.keys(e):[],t=y();return new u({type:"object",schema:e??null,*entries(o){if(e&&c(o)){const r=new Set(Object.keys(o));for(const t of n)r.delete(t),yield[t,o[t],e[t]];for(const e of r)yield[e,o[e],t]}},validator:e=>c(e)||`Expected an object, but received: ${a(e)}`,coercer:e=>c(e)?{...e}:e})}function b(e){return new u({...e,validator:(n,t)=>void 0===n||e.validator(n,t),refiner:(n,t)=>void 0===n||e.refiner(n,t)})}function w(){return f("string",(e=>"string"==typeof e||`Expected a string, but received: ${a(e)}`))}function A(e){const n=e.map((e=>e.type)).join(" | ");return new u({type:"union",schema:null,coercer(n){for(const t of e){const[e,o]=t.validate(n,{coerce:!0});if(!e)return o}return n},validator(t,o){const r=[];for(const n of e){const[...e]=l(t,n,o),[c]=e;if(!c?.[0])return[];for(const[n]of e)n&&r.push(n)}return[`Expected the value to satisfy a union of \`${n}\`, but received: ${a(t)}`,...r]}})}function E(e,n){return f(e,(e=>"string"==typeof e&&n.test(e)))}const $=/^(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})$/u,S=/^[-a-z0-9]{3,8}$/u,C=/^[-_a-zA-Z0-9]{1,32}$/u,z=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32})):(?<accountAddress>[-.%a-zA-Z0-9]{1,128})$/u,k=/^[-.%a-zA-Z0-9]{1,128}$/u,I=/^[-a-z0-9]{3,8}$/u,x=/^[-.%a-zA-Z0-9]{1,128}$/u,_=/^[-.%a-zA-Z0-9]{1,78}$/u,j=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})$/u,O=/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})\/(?<tokenId>[-.%a-zA-Z0-9]{1,78})$/u,T=(E("CaipChainId",$),E("CaipNamespace",S),E("CaipReference",C),E("CaipAccountId",z),E("CaipAccountAddress",k),E("CaipAssetNamespace",I),E("CaipAssetReference",x),E("CaipTokenId",_),E("CaipAssetType",j));E("CaipAssetId",O),E("CaipAssetTypeOrId",/^(?<chainId>(?<namespace>[-a-z0-9]{3,8}):(?<reference>[-_a-zA-Z0-9]{1,32}))\/(?<assetNamespace>[-a-z0-9]{3,8}):(?<assetReference>[-.%a-zA-Z0-9]{1,128})(\/(?<tokenId>[-.%a-zA-Z0-9]{1,78}))?$/u);var Z,q;!function(e){e.Bip122="bip122",e.Solana="solana",e.Eip155="eip155",e.Wallet="wallet"}(Z=Z||(Z={})),function(e){e.ButtonClickEvent="ButtonClickEvent",e.FormSubmitEvent="FormSubmitEvent",e.InputChangeEvent="InputChangeEvent",e.FileUploadEvent="FileUploadEvent"}(q||(q={}));const R=g({type:w(),name:b(w())}),U=p(R,g({type:m(q.ButtonClickEvent),name:b(w())})),N=g({name:w(),size:f("number",(e=>"number"==typeof e&&!isNaN(e)||`Expected a number, but received: ${a(e)}`)),contentType:w(),contents:w()}),P=g({asset:T,name:w(),symbol:w()}),B=p(R,g({type:m(q.FormSubmitEvent),value:(F=w(),L=v(A([w(),N,h(),P])),new u({type:"record",schema:null,*entries(e){if(c(e))for(const n in e){const t=e[n];yield[n,n,F],yield[n,t,L]}},validator:e=>c(e)||`Expected an object, but received: ${a(e)}`})),name:w()}));var F,L;const H=p(R,g({type:m(q.InputChangeEvent),name:w(),value:A([w(),h(),P])}));A([U,B,H,p(R,g({type:m(q.FileUploadEvent),name:w(),file:v(N)}))]);function M(e){return Object.fromEntries(Object.entries(e).filter((([,e])=>void 0!==e)))}function W(e){return n=>{const{key:t=null,...o}=n;return{type:e,props:M(o),key:t}}}const D=W("Box"),J=W("Heading"),V=W("Divider"),X=W("Text"),G=W("Button"),K=({error:e})=>o(D,{children:[t(J,{children:"Account Connection Error"}),t(V,{}),t(X,{children:"There was an error connecting to your accounts:"}),t(X,{children:e}),t(V,{}),t(X,{children:"Try connecting again:"}),t(G,{name:"connect-wallet",children:"Connect Wallet"})]}),Q=({accounts:e=[]})=>{const n=e&&e.length>0;return o(D,{children:[t(J,{children:"Connected Accounts"}),t(V,{}),o(D,n?{children:[t(X,{children:"The following accounts are connected:"}),e.map(((e,n)=>o(D,{children:[o(X,{children:["• Account ",`${n+1}`,": ",e]}),t(G,{name:"show-details",children:"Show Details"})]},`account-${n}`))),t(V,{})]}:{children:[t(X,{children:"No accounts are currently connected."}),t(X,{children:"Connect your wallet to use this feature:"}),t(G,{name:"connect-wallet",children:"Connect Wallet"})]})]})},Y=W("Link"),ee=e=>{switch(e){case"High":return"🔴";case"Medium":return"🟠";case"Low":return"🟢";default:return"⚠️"}},ne=({toAddress:e,riskLevel:n,label:r,blockExplorerUrl:c})=>o(D,{children:[t(J,{children:"Transaction Security Alert"}),o(X,{children:["Sending to: ",e]}),t(V,{}),o(D,{children:[o(X,{children:[ee(n)," Risk Level: ",n]}),o(X,{children:["Label: ",r]})]}),t(V,{}),o(D,{children:[t(X,{children:"View address on block explorer:"}),t(Y,{href:c,children:"View on Etherscan"})]})]}),te=async()=>{console.log("Installing the Snap..."),await ethereum.request({method:"eth_requestAccounts"}),console.log("Snap installed successfully")},oe=async()=>{console.log("Updating the Snap..."),await ethereum.request({method:"eth_requestAccounts"}),console.log("Snap updated successfully")},re=async({transaction:e,chainId:n})=>(console.log("chainId",n),(async e=>{const n=e.to||"0x1a2b3c4d5e6f7a8b9c0d1e2f3a4b5c6d7e8f9a0b";return{content:t(ne,{toAddress:n,riskLevel:"High",label:"Scammer",blockExplorerUrl:`https://etherscan.io/address/${n}`})}})(e)),ce=async({id:e,event:n,context:o})=>{if(console.log(`User input ID: ${e}`),console.log("Event:",n),console.log("Context:",o),n.type===q.ButtonClickEvent)if("connect-wallet"===n.name)try{console.log("Connecting wallet..."),await ethereum.request({method:"eth_requestAccounts"}),console.log("Wallet connected successfully")}catch(e){console.error("Error connecting wallet:",e)}else"show-details"===n.name&&(await snap.request({method:"snap_updateInterface",params:{id:e,ui:t(Q,{accounts:["0x1234..."]})}}),console.log("Transaction type button clicked"))},ae=async()=>{try{console.log("Initializing home page...");const e=await ethereum.request({method:"eth_accounts"});console.log("Found accounts:",e);const n=await snap.request({method:"snap_createInterface",params:{ui:t(Q,{accounts:e})}});return console.log("Created interface:",n),{id:n}}catch(e){return console.error("Error getting accounts:",e),{content:t(K,{error:e.message})}}},se=async({origin:e,request:n})=>(console.log("Origin:",e),console.log("RPC request:",n),await snap.request({method:"snap_notify",params:{type:"native",message:"Received RPC request"}}),{result:null})})(),module.exports=n})();